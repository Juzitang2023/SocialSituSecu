A malicious user detection algorithm oriented to multi-party privacy protection. This algorithm uses homomorphic encryption to encrypt sensitive data. Under the premise of ensuring data security and user privacy protection, it integrates multi-party data for modeling and analysis, and realizes the use of multi-party data for modeling and analysis. Accurate detection of malicious users in the platform, and the algorithm used in this article is an end-to-end gradient boosting tree algorithm, which has the same accuracy compared with traditional machine learning methods.